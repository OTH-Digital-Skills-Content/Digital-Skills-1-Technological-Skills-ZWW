# Phonebook

## Vorbereitung

1. Klicken Sie auf den folgenden [Link folgt](Link folgt)
2. W√§hlen Sie Ihren Namen aus der Liste (falls diese Liste angezeigt wird)
3. Klicken Sie in der ge√∂ffneten Webseite auf **‚ÄúAccept this assignment‚Äù**
4. Klicken Sie in der aktualisierten Webseite auf den Link unter **‚ÄúYour assignment repository has been created:‚Äù**
5. **Warten Sie ca. 30 Sekunden, bevor Sie weitermachen!**
6. Klicken Sie auf den Button **‚Äú<> Code‚Äù**, dann auf **‚ÄúCodespaces‚Äù** und abschlie√üend auf **‚ÄúCreate codespace on main‚Äù** ‚Äì Es √∂ffnet sich ein neuer Tab und ein Codespace wird f√ºr Sie eingerichtet.
7. **GANZ WICHTIG:** Lassen Sie sich Zeit bevor Sie weitermachen: Die erste Einrichtung eines neuen Codespaces kann mehrere Minuten dauern. Denken Sie an einen Stein, den Sie ins Wasser geworfen haben, und warten Sie, bis das Wasser wieder v√∂llig ruhig ist.

## Before you begin

Bevor Sie mit der Aufgabe starten, bedenken Sie bitte: Dieses Lab ist bewusst so gestaltet, dass Sie es ohne KI-Unterst√ºtzung l√∂sen k√∂nnen. Warum sollten Sie das tun?

* Eigenes Probleml√∂sen trainieren ‚Äì Sie √ºben, Schritt f√ºr Schritt selbst zu analysieren, wie sich ein Problem mit Code l√∂sen l√§sst.
* Grundlagen verstehen ‚Äì Nur wenn Sie die Basis (Schleifen, Bedingungen, Variablen) selbst umsetzen, entwickeln Sie ein tiefes Verst√§ndnis f√ºr Programmierung.
* Langfristig selbstst√§ndiger werden ‚Äì Wenn Sie Aufgaben ohne KI meistern, k√∂nnen Sie sp√§ter auch komplexere Herausforderungen souver√§n l√∂sen ‚Äì mit oder ohne Unterst√ºtzung von Tools.

F√ºr diese Aufgabe werden alle f√ºr die L√∂sung notwendigen Programmierkonzepte im Video, der zugeh√∂rigen Note und diesem Lab vorgestellt. Sie m√ºssen Sie keine weiteren Quellen im Internet ansehen, wenn Sie das nicht m√∂chten. Versuchen Sie die Inhalte des Videos zu verstehen, bevor Sie anfangen zu googeln! Die L√∂sung ist auch ohne Google m√∂glich!

**Lesen Sie unbedingt das Lab vollst√§ndig durch, bevor Sie mit der L√∂sung beginnen! Das Lab enth√§lt viele Tipps zur L√∂sung.** 

# Specs

In diesem Lab implementieren Sie Ihr eigenes kleines Telefonbuch mit Python, das sich √ºber die Kommandozeile bedienen l√§sst. Phonebook erm√∂glicht es Namen und Telefonnummern einzugeben, in einer Datei abzuspeichern und die Nummern √ºber eine Suche nach Namen wieder auszugeben.

![phonebook](img/phonebook_small.jpg)

Beim Start von Phonebook werden die Nutzer:innen zun√§chst im Hauptmen√º begr√º√üt. Dort haben sie die folgenden Eingabem√∂glichkeiten:

* Eingabe von `a`: Das Programm fordert zur Eingabe eines Namens und der dazugeh√∂rigen Telefonnumer auf. Nach Eingabe werden beide Informationen gespeichert und man kehrt zur√ºck ins Hauptmen√º.
* Eingabe von  `s`: Das Programm fordert zur Eingabe eines Namens auf und durchsucht das Telefonbuch nach diesem Namen. Wird der Name gefunden, wird die Telefonnumer ausgegeben. Vor der Nummer zeigt ein Symbol an, ob es sich um eine Handynummer (üì±) oder eine Festnetznummer (‚òéÔ∏è) handelt. Wird der Name nicht gefunden, erscheint eine Fehlermeldung. In allen F√§llen kehrt das Programm in das Hauptmen√º zur√ºck.
* Eingabe von `q`: Das Programm zeigt eine Abschiedsmeldung und beendet sich.

Die folgenden Beispiele zeigen einen typischen Ablauf.

Suchen der Telefonnumern von Alice und Bob (beide sind bereits im Startercode enthalten):

~~~shell
$ python phonebook.py
Willkommen zu Phonebook
Hauptmen√º (a - Kontakt hinzuf√ºgen, s - Kontakt suchen, q - Beenden) s
Name? Alice
üì±	0171 1234567
Hauptmen√º (a - Kontakt hinzuf√ºgen, s - Kontakt suchen, q - Beenden) s
Name? Bob
‚òéÔ∏è	0941 1234567
Hauptmen√º (a - Kontakt hinzuf√ºgen, s - Kontakt suchen, q - Beenden)
~~~

Suche der Nummer von Carol (ist nicht im Startprojekt enthalten):

~~~shell
$ python phonebook.py
Willkommen zu Phonebook
Hauptmen√º (a - Kontakt hinzuf√ºgen, s - Kontakt suchen, q - Beenden) s
Name? Carol
‚ùå	Kontakt nicht gefunden.
Hauptmen√º (a - Kontakt hinzuf√ºgen, s - Kontakt suchen, q - Beenden)
~~~

Hinzuf√ºgen der Nummer von Tom, Suchen seiner Nummer und anschlie√üendes Beenden des Programms:

~~~shell
$ python phonebook.py
Willkommen zu Phonebook
Hauptmen√º (a - Kontakt hinzuf√ºgen, s - Kontakt suchen, q - Beenden) a
Name? Tom
Nummer? 0941 4321
Hauptmen√º (a - Kontakt hinzuf√ºgen, s - Kontakt suchen, q - Beenden) s
Name? Tom
‚òéÔ∏è	0941 4321
Hauptmen√º (a - Kontakt hinzuf√ºgen, s - Kontakt suchen, q - Beenden) q
~~~

Die Eintr√§ge des Telefonbuchs werden in der Datei `phonebook.txt` gespeichert.

# Demo

![img/phonebook.gif](img/phonebook.gif)

**Hinweis: ** Beachten Sie, dass die Telefonnummern immer mit einem Leerzeichen zwischen Vorwahl und Durchwahl eingegeben werden, z.B. `0941 1234`. Ihr Programm kann davon ausgehen, dass dies immer so erfolgen muss! Dies ist eine Vereinfachung, um leichtern feststellen zu k√∂nnen, ob es sich um eine Festnetz- oder Handynummer handelt.

# Starter Code

F√ºr diese Aufgabe erhalten Sie einen Startercode, der bereits √ºber grundlegende Funktionalit√§t verf√ºgt. Zur dieser Aufgabe geh√∂rt es, sich mit bestehendem Code vertraut zu machen: 

* Die Datei `phonebook.txt` ist die "Datenbank" von Phonebook. Zu Beginn enth√§lt Sie zwei Telefonnumern. Sehen Sie sich die Datei im Editor an und finden heraus welche Nummern bereits enthalten sind.

* Die Funktion `main()` in der Datei `phonebook.py` ist der Startpunkt von Phonebook, sie wird nach Start des Programms √ºber die Kommandozeile automatisch aufgerufen. Im Startercode wird eine Willkommensbotschaft ausgegeben und die Funktion `display_main_menu()` aufgerufen. `main()` ist fertig implementiert, Sie m√ºssen dort keinen Code erg√§nzen. 

* Die Funktion `display_main_menu()` ist leer und wird sp√§ter von Ihnen implementiert (vgl. Specs). In dieser Funktion soll das Hauptmen√º des Programms dargestellt werden und auf Eingaben reagiert werden.
* Die Funktion `add_phone_number(name, number)` k√ºmmert sich um das Abspeichern der Daten von Phonebook in der Datei `phonebook.txt`.  Dazu √∂ffnet die Funktion Datei `phonebook.txt`, um diese zu beschreiben (`w`). Die Zeile `json.dump(phonebook, phonebook_file)` schreibt ein Python-`Dictionary` in die Datei und √ºberschreibt den gesamten Inhalt, falls die Datei schon Daten enthalten hat. Versuchen Sie nachzuvollziehen, was diese Funktion genau tut, beachten Sie dabei die Kommentare! ist Die Funktion `add_phone_number(name, number)` ist fertig implementiert, Sie m√ºssen dort keinen Code erg√§nzen. 
* Die Funktion `print_phone_number(name)` dient dazu die Telefonnumer f√ºr einen von den Benutzer:innen gesuchten `name` auszugeben. Hier soll die Nummer anhand des Namens im Telefonbuch gesucht werden und die Ausgabe als Handynummer oder Festnetznummer erfolgen. Dazu enth√§lt die Funktion bereits eine Liste `mobile_area_codes`, die alle Handyvorwahlen enth√§lt. Zur Verinfachung k√∂nnen Sie davon ausgehen, dass die drei enthaltenen Handyvorwahlen gen√ºgen, d.h. nur wenn eine Nummer eine dieser drei Vorwahlen enth√§lt soll diese als Handynummer ausgegeben werden, in anderen F√§llen z√§hlt die Nummer als Festnetznummer.

# Schritt f√ºr Schritt

* Implementieren Sie die bestehende Funktion `display_main_menu()`
  * Erzeugen Sie den Code, der das Hauptmen√º des Programms darstellt und auf Eingaben reagiert.
  * Diese Funktion ruft die  Funktionen `add_phone_number(name, number)` und  `print_phone_number(name)`  auf.
  
* Implementieren Sie `print_phone_number(name)` - Diese Funktion erh√§lt als Parameter den Namen des Kontakts, den Sie im Telefonbuch suchen wollen. Suchen Sie den Kontakt und geben Sie die Nummer aus oder eine entsprechende Meldung, falls der Kontakt nicht gefunden wurde (siehe Beschreibung von oben). Entscheiden Sie zus√§tzlich, ob der Kontakt eine Handynummer oder eine Festnetznummer ist und geben das entsprechende Icon vor der Nummer aus. Den Abstand zwischen Icon und Nummer erzeugen Sie √ºber `\t` als Teil der Ausgabe, statt eines Leerzeichens. Tipp: Machen Sie es sich bei der Identifikation einer Handynummer leicht: Eine Nummer z√§hlt immer dann als Handynummer, wenn Sie √ºber eine Vorwahl `0151`, `0161`, oder `0171` verf√ºgt. Vgl. dazu die im Code bereits enthaltene Liste `mobile_area_codes`.
  So geben Sie die Icons im Code aus - `\U` kennzeichnet die folgenden 8 Hexademizalzeichen als Unicode f√ºr die Emojis:
  
  * ‚òéÔ∏è - `print("\U0000FE0F")`
  * üì± - `print("\U0001F4F1")`
  * ‚ùå - `print("\U0000274C")`
  * üñê - `print("\U0001F590")`
  
  Diese Funktion muss die Daten aus `phonebook.txt` auslesen. Das Telefonbuch kann in Python als `Dictionary` implementiert werden (vgl. dazu die Notes). Der folgende Code zeigt das Auslesen der Daten als `Dictionary` aus der Datei `phonebook.txt` (Bedienen Sie sich bei diesem Code f√ºr Ihre L√∂sung):
  
  ~~~python
  def read_phonebook_from_file():
        # √∂ffnet die Datei phonebook.txt in der Variable phonebook_file
      with open("phonebook.txt", "r") as phonebook_file:
            # erzeugt ein Dictionary aus der Datei als phonebook_from_file
          phonebook_from_file = json.load(phonebook_file)
          # Liest die Nummern von Alice und Bob aus dem Dictionary
          alice_number = phonebook_from_file.get("Alice")
          bob_number = phonebook_from_file.get("Bob")
          # Gibt die Nummern auf der Kommandozeile aus
          print(alice_number)
          print(bob_number)
  ~~~
  

# Tipps

* Beginnen Sie mit dem Startercode den Sie direkt ausf√ºhren k√∂nnen und entwickeln Sie Phonebook auf dieser Basis. Testen Sie das Programm regelm√§√üig und halten Sie es immer in einem lauff√§higen Zustand. 

* L√∂schen Sie keine bestehenden Funktionen! Alle im Startercode enthaltenen Funktionen werden f√ºr die automatisierten Tests ben√∂tigt!

* Durch das Ausf√ºhren der im Startercode enthaltenen Datei `setup_phonebook.py` k√∂nnen Sie immer wieder ein Telefonbuch wiederherstellen, falls Sie dieses versehentlich "zerst√∂rt" haben. Geben Sie dazu den folgenden Befehl auf der Kommandozeile ein:

  ```cmd
  $ python setup_phonebook.py
  ```

  Probieren Sie dies unbedingt selbt aus, sehen Sie sich den Inhalt der Datei in Codespaces genau an und beginnen Sie erst mit der Implementierung, wenn Sie verstanden haben, was durch das Ausf√ºhren von `setup_phonebook.py` passiert.


# Testen

Das Programm sollte sich wie oben gezeigt verhalten!

Bei ung√ºltigen Eingaben sollte sich das Programm weiterhin wie folgt verhalten: 

```shell
$ python phonebook.py
Willkommen zu Phonebook
Hauptmen√º (a - Kontakt hinzuf√ºgen, s - Kontakt suchen, q - Beenden) 1
Hauptmen√º (a - Kontakt hinzuf√ºgen, s - Kontakt suchen, q - Beenden) p
Hauptmen√º (a - Kontakt hinzuf√ºgen, s - Kontakt suchen, q - Beenden) A
Hauptmen√º (a - Kontakt hinzuf√ºgen, s - Kontakt suchen, q - Beenden) x
Hauptmen√º (a - Kontakt hinzuf√ºgen, s - Kontakt suchen, q - Beenden) q
üñê	Tsch√ºss!
```

